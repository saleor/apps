fragment TransactionRefundRequestedEvent on TransactionRefundRequested {
  ...EventMetadata
  action {
    amount
  }
  grantedRefund {
    shippingCostsIncluded
    lines {
      quantity
      orderLine {
        id
      }
    }
  }
  transaction {
    token
    pspReference
    checkout {
      id
      channel {
        ...Channel
      }
      totalPrice {
        gross {
          amount
        }
      }
    }
    order {
      id
      channel {
        ...Channel
      }
      total {
        gross {
          amount
        }
      }
      shippingPrice {
        gross {
          amount
        }
      }
      discount {
        amount
      }
      lines {
        id
        quantity
        unitPrice {
          gross {
            amount
          }
        }
        variant {
          sku
          product {
            name
          }
        }
      }
    }
  }
}

subscription TransactionRefundRequested {
  event {
    ...TransactionRefundRequestedEvent
  }
}
